(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{1243:function(e,t,r){"use strict";var o=r(596);r.n(o).a},1244:function(e,t,r){(e.exports=r(18)(!1)).push([e.i,".content-view[data-v-602d3998]{margin-bottom:60px}.regist-head-img[data-v-602d3998]{text-indent:-9999px;overflow:hidden;height:136px;background:url(/static/images/zhuce_head.png) top no-repeat}.steps-inline-block[data-v-602d3998]{width:800px;margin:auto}.steps-region[data-v-602d3998]{margin-top:44px;margin-bottom:44px}.ruleForm[data-v-602d3998]{width:474px;margin:auto}.tm-passowrd-out[data-v-602d3998]{position:relative}.tm-passowrd-out .icon-eye[data-v-602d3998],.tm-passowrd-out .icon-eyeclosed[data-v-602d3998]{position:absolute;top:10px;right:10px;font-size:20px;line-height:1;display:block;vertical-align:middle;cursor:pointer;color:#787878}.tm-ok-info .tm-p1[data-v-602d3998]{font-size:40px;padding-top:20px}.tm-ok-info .tm-p1[data-v-602d3998],.tm-ok-info .tm-p2[data-v-602d3998]{line-height:1.3;color:#787878;text-align:center}.tm-ok-info .tm-p2[data-v-602d3998]{margin-top:20px;font-size:20px}.tm-ok-info .tm-p3[data-v-602d3998]{text-align:center;margin-top:10px}",""])},1284:function(e,t,r){"use strict";r.r(t);r(60),r(39),r(29);var o=r(3),n=r(451),l=r(342),c=r(5),m=r(6),d=r(369),h=r.n(d),f=r(83),w=r(2),v={components:{"v-header-regist":n.a,"v-footer":l.a},data:function(){var e=this;return{showPwd:!1,isCheckUser:!1,ruleForm:{userName:"",password:""},errors:{userName:"",password:""},rules:{userName:[{required:!0,message:"请输入正确的用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],password:[{required:!0,validator:function(t,r,o){""==r&&(e.errors.password="请输入密码",o(new Error("请输入密码"))),r.length<6||r.length>32?(e.errors.password="密码的长度违规",o(new Error("密码的长度违规"))):(e.errors.password="",o())},trigger:"blur"}]}}},methods:{toggleShowPwd:function(e){this.showPwd=e},checkUserName:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=t.replace(/(^\s*)|(\s*$)/g,""),this.ruleForm.userName=t,""!=t&&t.length>=2?this.$http.get(c.a.CheckUserNameUrl+"?username="+t).then(function(e){"0000"!=e.body.code?(r.isCheckUser=!1,r.errors.userName=e.body.message,r.$message.success(e.body.message)):(r.isCheckUser=!0,r.errors.userName="",r.$message.success("用户名可用"))},function(e){r.isCheckUser=!1,r.errors.userName="用户名校验失败"}):this.errors.userName="";case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),isCheckFormName:function(e){var t=!0;return this.$refs[e].validate(function(e){t=!!e}),t},resetForm:function(e){this.$refs[e].resetFields()},openError:function(text){this.$message.error(text)},verfiyStepTwo:function(){var e=this;return new Promise(function(t,r){return e.isCheckFormName("ruleForm")?0==e.isCheckUser?(e.openError("用户名无效，请重新输入"),e.errors.userName="用户名无效，请重新输入",t(!1)):e.errors.password?(e.openError(e.errors.password),t(!1)):t(!0):t(!1)})},goNext:function(){var e=this;this.verfiyStepTwo().then(function(t){t&&e.geNextMethod()})},geNextMethod:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t,r,o,n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,t=this,r={mobile:this.$store.state.registInfo.mobile,userName:this.ruleForm.userName,password:h()(this.ruleForm.password),source:"PC"},window.localStorage.getItem("channelSource")&&(r.channelSource=window.localStorage.getItem("channelSource")),e.next=6,Object(m.a)(this,c.a.registStepTwo,r,"POST");case 6:(o=e.sent)&&"0000"==o.code&&(n={next:"2",userName:this.ruleForm.userName},AnalysysAgent.track("main200701",n),(l=Object.assign({},this.$store.state.registInfo)).second_ok=!0,l.userName=t.ruleForm.userName,l.password=h()(t.ruleForm.password),l.third_ok=!1,this.$store.commit(w.MutationTypes.REGIST_INFO,l),this.$router.push("/regist/step3"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},computed:{},mounted:function(){this.$store.state.registInfo.first_ok||this.$router.push("/regist"),Object(f.a)("regist"),this.$store.state.registInfo.userName&&(this.ruleForm.userName=this.$store.state.registInfo.userName,this.checkUserName(this.ruleForm.userName))}},x=(r(1243),r(20)),component=Object(x.a)(v,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"regist-page"},[r("v-header-regist",{attrs:{showLogin:!1}}),e._v(" "),r("div",{staticClass:"content-view"},[r("div",{staticClass:"tm-container"},[r("div",{staticClass:"regist-head-img"},[e._v("\n        企业采购账户注册。 开具增票，企业专项价，批量下单，专属库存，专属经理，省心省力\n      ")]),e._v(" "),r("div",{staticClass:"steps-region"},[r("div",{staticClass:"steps-inline-block"},[r("el-steps",{attrs:{space:200,"align-center":"",active:1}},[r("el-step",{attrs:{title:"验证手机号"}}),e._v(" "),r("el-step",{attrs:{title:"填写账号信息"}}),e._v(" "),r("el-step",{attrs:{title:"填写公司信息"}}),e._v(" "),r("el-step",{attrs:{title:"注册成功"}})],1)],1)]),e._v(" "),r("div",{staticClass:"ruleForm-out"},[r("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名/昵称",prop:"userName",error:e.errors.userName}},[r("el-input",{attrs:{placeholder:"请输入用户名",type:"text",autocomplete:"off"},on:{input:e.checkUserName},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),e._v(" "),r("el-form-item",{staticClass:"tm-passowrd-out",attrs:{label:"请设置密码",prop:"password",error:e.errors.password}},[e.showPwd?r("el-input",{attrs:{autocomplete:"off",placeholder:"请输入6-32位密码",type:"text"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}}):r("el-input",{attrs:{autocomplete:"off",placeholder:"请输入6-32位密码",type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}}),e._v(" "),e.showPwd?r("span",{staticClass:"icon-eyeclosed",on:{click:function(t){return e.toggleShowPwd(!1)}}}):r("span",{staticClass:"icon-eye",on:{click:function(t){return e.toggleShowPwd(!0)}}})],1),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.goNext}},[e._v("下一步")])],1)],1)],1)])]),e._v(" "),r("v-footer",{staticClass:"foot",attrs:{isSimple:!0}})],1)},[],!1,null,"602d3998",null);component.options.__file="step2.vue";t.default=component.exports},596:function(e,t,r){var content=r(1244);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("6f7fc4b4",content,!0,{sourceMap:!1})}}]);