(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1356:function(e,t,n){"use strict";n.r(t);n(388),n(82),n(196),n(29);var r=n(3),o=(n(36),n(510)),l=n.n(o),c=n(429),d=n.n(c),v=n(6),h=n(5),m=n(700),f=n(4),y=n(78);function _(e){return e<10?"0"+e:e}var w={asyncData:function(e){return{powMap:e.store.state.contain_power}},data:function(){return{orderIds:"",checked:!1,currentPage:1,pageSize:10,pageCount:0,stateList:[],showInvoiceDialog:!1,invoiceInfo:{},isSelectedAll:!1,sonSelected:!1,getInvoicedList:[],relativeshopLists:[],dialogTableVisible:!1,invId:"",multipleSelection:[],orderCheckedAll:!1,queryParam:{orderTime:"",accountTime:"",sonCompany:[],beginDate:"",endDate:"",billBeginDate:"",billEndDate:"",companyId:"",isInvoiced:"",orderStatus:""},queryInvoicedParam:{invoicedTime:"",beginDate:"",endDate:"",status:""},showInvoiced:!1,navbtncolor:!0,showAccount:!0,invoicedstateList:[{key:"applying",value:"申请中"},{key:"submit",value:"已提交"},{key:"finish",value:"已开票"},{key:"abolish",value:"已作废"}],newStateLists:[],defaultProps:{children:"children",label:"label"},tableData:[],powMap:{},amountPrice:0}},computed:{companyName:function(){if(this.getUserInfo(this))return this.getUserInfo(this).companyName},calculateTotalcost:function(){return 0}},components:{"v-invoice":m.a},beforeMount:function(){this.getSonCompany(),this.selectAllPurchaseOrder(),this.purchaseOrderState()},mounted:function(){this.powMap||(this.powMap=this.getPower(this)),this.getappliedInvoiceList()},methods:{invoiceAddedHandler:function(){this.selectAllPurchaseOrder()},handleClick:function(e,t){if("invoice"===t){if(e.length){var n="",r=0;e.forEach(function(e){n+=","+e.childOrderId,r+=1*e.productTotalPrice}),this.orderIds=n.substr(1),this.amountPrice=r}else e.childSelected=!0,this.orderIds=e.childOrderId,this.amountPrice=e.productTotalPrice,-1===this.multipleSelection.indexOf(e)&&this.multipleSelection.push(e);this.showInvoiceDialog=!0,this.$refs.invoice&&this.$refs.invoice.getHistoryInvoice()}else if("details"===t){var o={orderId:e.orderId,type:"订单详情"};AnalysysAgent.track("main201301",o),this.$router.push({path:"/order/orderdetail",query:{id:e.orderId}})}else if("pay"===t){o={orderId:e.orderId,type:"立即付款"};AnalysysAgent.track("main201301",o),this.handlePayClick(e)}},goDetail:function(e){this.$router.push({path:"/order/shopDetail",query:{id:e.orderId,shopId:e.childOrderId}})},handlePayClick:function(e){this.$router.push({path:"/payfororder",name:"confirmorder-payfororder",params:{order:e}})},handleSizeChange:function(e){this.pageSize=e,this.selectAllPurchaseOrder(),this.isSelectedAll=!1},handleCurrentChange:function(e){this.currentPage=e,this.selectAllPurchaseOrder(),this.isSelectedAll=!1},changeOrderTime:function(){this.queryParam.orderTime?(this.queryParam.beginDate=this.queryParam.orderTime[0],this.queryParam.endDate=this.queryParam.orderTime[1]):(this.queryParam.beginDate="",this.queryParam.endDate="")},changeInvoicedTime:function(){this.queryInvoicedParam.invoicedTime?(this.queryInvoicedParam.beginDate=this.queryInvoicedParam.invoicedTime[0],this.queryInvoicedParam.endDate=this.queryInvoicedParam.invoicedTime[1]):(this.queryInvoicedParam.beginDate="",this.queryInvoicedParam.endDate="")},changeAccountTime:function(){this.queryParam.accountTime?(this.queryParam.billBeginDate=this.queryParam.accountTime[0],this.queryParam.billEndDate=this.queryParam.accountTime[1]):(this.queryParam.billBeginDate="",this.queryParam.billEndDate="")},selectAllPurchaseOrder:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={beginDateString:this.queryParam.beginDate,endDateString:this.queryParam.endDate,orderStatus:this.queryParam.orderStatus,companyId:this.queryParam.companyId,billBeginDateString:this.queryParam.billBeginDate,billEndDateString:this.queryParam.billEndDate,isInvoiced:this.queryParam.isInvoiced,pageNum:this.currentPage,pageSize:this.pageSize},e.next=3,Object(v.a)(this,h.a.GetbillOrderVoListUrl,t);case 3:if(!(n=e.sent)){e.next=12;break}if(n.data){e.next=9;break}return this.tableData=[],this.pageCount=0,e.abrupt("return");case 9:this.pageCount=n.data.total,this.tableData=n.data.list,this.tableData&&(1,this.tableData.forEach(function(e){e.orderId=e.orderId,e.companyName=e.companyName,e.contactPerson=e.userName,e.stateName=Object(f.g)(e.orderStatus),e.gmtCreate=Object(f.k)(e.gmtCreate),e.periodEndDate=Object(f.k)(e.periodEndDate),e.payTypeName=Object(f.f)(e.payType),e.totalPrice=e.totalPrice.toFixed(2),e.invoiced="0"==e.isInvoiced?"否":"是",e.selected=!1,e.orderWdtChildModels&&e.orderWdtChildModels.length>0&&e.orderWdtChildModels.forEach(function(e){e.childSelected=!1})}));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showAccountcheck:function(){this.showAccount=!0,this.showInvoiced=!1,this.navbtncolor=!0},showList:function(){this.showInvoiced=!0,this.showAccount=!1,this.navbtncolor=!1},selectAllInvoicedOrder:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={startTime:this.queryInvoicedParam.beginDate,endTime:this.queryInvoicedParam.endDate,status:this.queryInvoicedParam.status},e.next=3,Object(v.a)(this,h.a.appliedInvoice,t,"GET");case 3:if(!(n=e.sent)){e.next=10;break}if(n.data){e.next=8;break}return this.getInvoicedList=[],e.abrupt("return");case 8:this.getInvoicedList=n.data.list,console.log(n);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),purchaseOrderState:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.d)(this);case 2:this.stateList=e.sent,t=[],this.stateList.forEach(function(e){if("propay"==e.key||"proship"==e.key||"proreceipt"==e.key||"finish"==e.key){var map=new Map;map.key=e.key,map.value=e.value,t.push(map)}return t}),this.newStateLists=t;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getSonCompany:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getUserInfo(this),n=t.companyId,e.next=4,Object(y.b)(this,n);case 4:this.queryParam.sonCompany=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getSummaries:function(param){var e=param.columns,data=param.data,t=[];return e.forEach(function(e,n){if(0!==n){if(1!==n&&2!==n){var r=data.map(function(t){return Number(t[e.property])});r.every(function(e){return isNaN(e)})?t[n]="":(t[n]=r.reduce(function(e,t){var n=Number(t);return isNaN(n)?e:(1*e+t).toFixed(2)},0),t[n]+=" 元")}}else t[n]="小结"}),t},shopSelected:function(e,t,n){this.multipleSelection=[],t.childSelected||(this.isSelectedAll=!1);var r=!0,o=this;this.tableData.forEach(function(e){e.orderWdtChildModels&&e.orderWdtChildModels.length>0&&e.orderWdtChildModels.forEach(function(e){e.childSelected?o.multipleSelection.push(e):r=!1})}),r&&(this.isSelectedAll=!0),e.orderWdtChildModels.splice(n,1,t)},selectedAllChange:function(){this.multipleSelection=[];var e=this;if(this.tableData.forEach(function(t,n){t.orderWdtChildModels&&t.orderWdtChildModels.length&&t.orderWdtChildModels.forEach(function(t){""==t.invoiceId&&(t.childSelected=e.isSelectedAll)})}),this.multipleSelection=[],this.isSelectedAll){var t=this;this.tableData.forEach(function(e){e.orderWdtChildModels&&e.orderWdtChildModels.length&&e.orderWdtChildModels.forEach(function(e){e.childSelected&&t.multipleSelection.push(e)})})}else this.multipleSelection=[]},getInvoice:function(){this.multipleSelection.length>0?this.handleClick(this.multipleSelection,"invoice"):this.$message({message:"请先选择需要开发票的订单！",type:"error"})},getappliedInvoiceList:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(this,h.a.appliedInvoice,{},"GET");case 2:(t=e.sent)&&(this.getInvoicedList=t.data.list,this.getInvoicedList.forEach(function(e){var t,time,n,r,o,l,c,s;e.date=(t=e.date,time=new Date(t),n=time.getFullYear(),r=time.getMonth()+1,o=time.getDate(),l=time.getHours(),c=time.getMinutes(),s=time.getSeconds(),n+"-"+_(r)+"-"+_(o)+" "+_(l)+":"+_(c)+":"+_(s)),"applying"==e.status?e.status="申请中":"submit"==e.status?e.status="已提交":"finish"==e.status?e.status="已开票":e.status="已作废","normal"==e.invoiceType?e.invoiceType="纸质":e.invoiceType="电子"}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),reshopList:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={invoiceId:t},e.next=3,Object(v.a)(this,h.a.reApplicationList,n,"GET");case 3:(r=e.sent)&&(this.relativeshopLists=r.data,this.dialogTableVisible=!0,this.invId=t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),exportExcel:function(e){var t=d.a.utils.table_to_book(document.querySelector(".contentview_table")),n=d.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{l.a.saveAs(new Blob([n],{type:"application/octet-stream"}),"B"+e+".xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,n)}return n},closeDialog:function(){this.showInvoiceDialog=!1}}},x=(n(813),n(20)),component=Object(x.a)(w,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pageview accountcheck"},[r("div",{staticClass:"powerview"},[r("div",{staticClass:"iv-top"},[r("span",{staticClass:"nav-btn",class:e.navbtncolor?"nav-bule":"",staticStyle:{"padding-left":"32px","font-weight":"bold"},on:{click:e.showAccountcheck}},[e._v("我的对账单")]),e._v(" "),r("label",[e._v("|")]),e._v(" "),r("span",{staticClass:"nav-btn",class:e.navbtncolor?"":"nav-bule",staticStyle:{"font-weight":"bold"},on:{click:e.showList}},[e._v("开票列表")]),e._v(" "),e.powMap.isAccountBatchReceiptsPow?r("span",{staticClass:"opening",staticStyle:{float:"right",padding:"0 40px 0 5px"},on:{click:e.getInvoice}},[e._v("批量申请开票")]):e._e(),e._v(" "),r("img",{staticStyle:{float:"right",width:"18px",height:"18px"},attrs:{src:n(509)}})]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showInvoiced,expression:"showInvoiced"}],staticClass:"applied-invoicedLists"},[r("div",{staticClass:"powerview-select"},[r("span",{staticClass:"top-span"},[e._v("申请时间")]),e._v(" "),r("el-date-picker",{staticClass:"picker-big",attrs:{editable:!1,size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.changeInvoicedTime},model:{value:e.queryInvoicedParam.invoicedTime,callback:function(t){e.$set(e.queryInvoicedParam,"invoicedTime",t)},expression:"queryInvoicedParam.invoicedTime"}}),e._v(" "),r("span",{staticClass:"top-span"},[e._v("开票状态")]),e._v(" "),r("el-select",{staticClass:"picker-samll",attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.queryInvoicedParam.status,callback:function(t){e.$set(e.queryInvoicedParam,"status",t)},expression:"queryInvoicedParam.status"}},[r("span",e._l(e.invoicedstateList,function(e){return r("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}),1)]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.selectAllInvoicedOrder()}}},[e._v("查询")])],1),e._v(" "),r("div",[r("el-table",{staticStyle:{width:"100%",height:"500px"},attrs:{data:e.getInvoicedList,border:"",height:"600"}},[r("el-table-column",{attrs:{resizable:!1,label:"序号",width:"50px",align:"center",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"发票抬头",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"invoiceCode",label:"发票代码",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"invoiceNumber",label:"发票号码",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"titleType",label:"发票类型",width:"300"}}),e._v(" "),r("el-table-column",{attrs:{prop:"invoiceType",label:"发票性质",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{label:"发票金额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v("\n              ￥"+e._s(t.row.totalPrice)+"\n            ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"status",label:"开票状态",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"registeredAddress",label:"注册地址",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"registeredPhone",label:"注册电话",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"bankName",label:"开户行名称",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"bankAccount",label:"开户行账号",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"dutyParagraph",label:"发票税号",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"draweeName",label:"收票人姓名",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"draweePhone",label:"收票人手机号",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"draweeAddress",label:"收票人地区",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"detailedAddress",label:"详细地址",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{label:"申请时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(t.row.date))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"invoiceUrl",label:"电票地址",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.reshopList(t.row.invoiceId)}}},[e._v("关联商品")])]}}])})],1)],1),e._v(" "),r("div",[r("el-dialog",{staticStyle:{width:"100%","padding-bottom":"50px"},attrs:{title:"关联商品",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[r("el-table",{staticClass:"contentview_table",staticStyle:{width:"100%"},attrs:{border:"",data:e.relativeshopLists}},[r("el-table-column",{attrs:{resizable:!1,prop:"num",label:"序号",width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"childOrderId",label:"子订单号",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productName",label:"商品名称",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productId",label:"商品编码",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"makerModel",label:"型号",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"price",label:"价格",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"count",label:"数量",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"totalAmount",label:"小计",width:"120"}})],1),e._v(" "),r("el-button",{staticClass:"export-btn",attrs:{type:"primary"},on:{click:function(t){return e.exportExcel(e.invId)}}},[e._v("导出")])],1)],1)]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showAccount,expression:"showAccount"}]},[r("div",{staticClass:"powerview-select"},[r("span",{staticClass:"top-span"},[e._v("订单时间")]),e._v(" "),r("el-date-picker",{staticClass:"picker-big",attrs:{editable:!1,size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.changeOrderTime},model:{value:e.queryParam.orderTime,callback:function(t){e.$set(e.queryParam,"orderTime",t)},expression:"queryParam.orderTime"}}),e._v(" "),r("span",{staticClass:"top-span"},[e._v("订单状态")]),e._v(" "),r("el-select",{staticClass:"picker-samll",attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.queryParam.orderStatus,callback:function(t){e.$set(e.queryParam,"orderStatus",t)},expression:"queryParam.orderStatus"}},[r("span",e._l(e.newStateLists,function(e){return r("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}),1)]),e._v(" "),r("span",{staticClass:"top-span"},[e._v("公司")]),e._v(" "),r("el-select",{staticClass:"picker-samll",attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.queryParam.companyId,callback:function(t){e.$set(e.queryParam,"companyId",t)},expression:"queryParam.companyId"}},e._l(e.queryParam.sonCompany,function(e){return r("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}),1),e._v(" "),r("div",{staticClass:"clear",staticStyle:{clear:"both",height:"10px"}}),e._v(" "),r("span",{staticClass:"top-span"},[e._v("账期时间")]),e._v(" "),r("el-date-picker",{staticClass:"picker-big",attrs:{editable:!1,size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.changeAccountTime},model:{value:e.queryParam.accountTime,callback:function(t){e.$set(e.queryParam,"accountTime",t)},expression:"queryParam.accountTime"}}),e._v(" "),r("span",{staticClass:"top-span"},[e._v("已开发票")]),e._v(" "),r("el-select",{staticClass:"picker-samll",attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.queryParam.isInvoiced,callback:function(t){e.$set(e.queryParam,"isInvoiced",t)},expression:"queryParam.isInvoiced"}},[r("span",[r("el-option",{attrs:{value:"",label:"全部"}})],1),e._v(" "),r("span",[r("el-option",{attrs:{value:"1",label:"是"}})],1),e._v(" "),r("span",[r("el-option",{attrs:{value:"0",label:"否"}})],1)]),e._v(" "),r("el-button",{staticClass:"btn-select",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.selectAllPurchaseOrder()}}},[e._v("搜索")])],1),e._v(" "),r("div",{staticClass:"user",staticStyle:{height:"40px"}},[r("el-row",{staticStyle:{color:"#858585",background:"#f5f5f5",height:"40px","line-height":"40px","margin-top":"50px","text-align":"center"}},[r("el-col",{attrs:{span:1}},[e._v("\n           \n          "),r("el-checkbox",{on:{change:e.selectedAllChange},model:{value:e.isSelectedAll,callback:function(t){e.isSelectedAll=t},expression:"isSelectedAll"}})],1),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content"},[e._v("订单金额")])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content"},[e._v("应付金额")])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content"},[e._v("已付金额")])]),e._v(" "),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content"},[e._v("待付金额")])]),e._v(" "),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content"},[e._v("订单状态")])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content"},[e._v("支付方式")])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content"},[e._v("操作")])])],1)],1),e._v(" "),e._l(e.tableData,function(t,n){return r("div",{key:n,staticClass:"power-view-table",staticStyle:{width:"100%","over-flow":"hidden"},attrs:{"summary-method":e.getSummaries,"show-summary":"","max-height":"658"}},[r("el-row",{staticStyle:{color:"#858585",background:"#f5f5f5","line-height":"40px","text-align":"center","border-top":"1px solid #e5e5e5"}},[r("el-col",{attrs:{span:1}}),e._v(" "),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"grid-content"},[r("span",{staticStyle:{color:"#343434"},attrs:{prop:"gmtCreate"}},[e._v(e._s(t.gmtCreate))])])]),e._v(" "),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"grid-content"},[e._v("\n            订单号：\n            "),r("span",{staticStyle:{color:"#343434"},attrs:{prop:"orderId"}},[e._v(e._s(t.orderId))])])]),e._v(" "),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"grid-content"},[r("span",{staticStyle:{color:"#343434"},attrs:{prop:"companyName"}},[e._v(e._s(t.companyName))])])]),e._v(" "),t.periodEndDate?r("el-col",{attrs:{span:8}},[r("div",{staticClass:"grid-content"},[e._v("\n            账期截止时间：\n            "),r("span",{staticStyle:{color:"#343434"},attrs:{prop:"periodDate"}},[e._v(e._s(t.periodEndDate))])])]):e._e()],1),e._v(" "),r("el-row",{staticStyle:{color:"#343434","line-height":"103px","text-align":"center"}},[r("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content",attrs:{prop:"totalPrice"}},[e._v("￥"+e._s(t.totalPrice?t.totalPrice:0)+" ")])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content",attrs:{prop:"payablePrice"}},[e._v("￥"+e._s(t.payablePrice?t.payablePrice.toFixed(2):0)+" ")])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content",attrs:{prop:"paidPrice"}},[e._v("￥"+e._s(t.paidPrice?t.paidPrice.toFixed(2):0)+" ")])]),e._v(" "),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content",attrs:{prop:"waitPrice"}},[e._v("￥"+e._s(t.waitPrice?t.waitPrice.toFixed(2):0)+" ")])]),e._v(" "),r("el-col",{attrs:{span:4,prop:"stateName"}},[r("div",{staticClass:"grid-content",attrs:{prop:"stateName"}},[e._v(e._s(t.stateName)+" ")])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content",staticStyle:{"border-right":"1px solid #f1f1f1"}},[e._v(e._s(t.payTypeName?t.payTypeName:"-"))])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content btn"},[r("div",{staticClass:"btn-edit"},[e.powMap.isPurchaseOrderInfo?r("a",{staticClass:"operation-style",class:"propay"===t.orderStatus?"mb8":"mb0 pt3",on:{click:function(n){return e.handleClick(t,"details")}}},[e._v("订单详情")]):e._e(),e._v(" "),r("a",{directives:[{name:"show",rawName:"v-show",value:"propay"===t.orderStatus&&e.powMap.isPurchasePayPow,expression:"item.orderStatus === 'propay' && powMap.isPurchasePayPow"}],staticClass:"btn-a",on:{click:function(n){return e.handleClick(t,"pay")}}},[e._v("立即付款")])])])])],1),e._v(" "),e._l(t.orderWdtChildModels,function(n,o){return t.orderWdtChildModels?r("el-row",{key:o,staticStyle:{height:"70px","line-height":"70px","text-align":"center","border-top":"1px solid #ececec"}},[r("el-col",{attrs:{span:1}},[r("el-checkbox",{attrs:{disabled:""==!n.invoiceId},on:{change:function(r){return e.shopSelected(t,n,o)}},model:{value:n.childSelected,callback:function(t){e.$set(n,"childSelected",t)},expression:"shop.childSelected"}})],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"grid-content",staticStyle:{"margin-left":"-10px"}},[e._v("\n            订单"+e._s(o+1)+"：\n            "),r("span",{staticStyle:{color:"#343434"},attrs:{prop:"gmtCreate"}},[e._v(e._s(n.childOrderId))])])]),e._v(" "),r("el-col",{attrs:{span:5}},[r("div",{staticClass:"grid-content"},[e._v("\n            商品的数量：\n            "),r("span",{staticStyle:{color:"#343434"},attrs:{prop:"orderId"}},[e._v(e._s(n.productCount))])])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content"},[e._v("\n            总额:\n            "),r("span",{staticStyle:{color:"#343434"},attrs:{prop:"totalPrice"}},[e._v("￥"+e._s(n.productTotalPrice.toFixed(2)))])])]),e._v(" "),r("el-col",{attrs:{span:7}},[r("div",{staticClass:"grid-content"},[e._v("\n            开票状态：\n            "),""==n.invoiceId?r("span",[e._v("未申请")]):r("span",["applying"==n.status?r("span",[e._v("申请中")]):e._e(),e._v(" "),"submit"==n.status?r("span",[e._v("已提交")]):e._e(),e._v(" "),"finish"==n.status?r("span",[e._v("已开票")]):e._e()])])]),e._v(" "),r("el-col",{attrs:{span:3}},[r("div",{staticClass:"grid-content btn-cell"},[r("div",{staticClass:"btn-edit"},[e.powMap.isPurchaseOrderInfo?r("a",{staticClass:"operation-style",class:""!=n.invoiceId?"mb0":"mb8",attrs:{type:"text",size:"medium"},on:{click:function(t){return e.goDetail(n)}}},[e._v("商品详情")]):e._e(),e._v(" "),r("a",{directives:[{name:"show",rawName:"v-show",value:""==n.invoiceId&&e.powMap.isAccountReceiptsPow,expression:"shop.invoiceId == '' && powMap.isAccountReceiptsPow"}],staticClass:"operation-style",attrs:{type:"text",size:"medium"},on:{click:function(t){return e.handleClick(n,"invoice")}}},[e._v("申请开票")])])])])],1):e._e()})],2)}),e._v(" "),r("div",{staticClass:"prowerview-paging"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,e.pageCount],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.pageCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1),e._v(" "),r("el-dialog",{staticClass:"invoice_dialog",attrs:{title:"发票申请",visible:e.showInvoiceDialog,width:"450px"},on:{"update:visible":function(t){e.showInvoiceDialog=t}}},[r("span",[e._v("开票总金额："+e._s(e.amountPrice.toFixed(2)))]),e._v(" "),r("v-invoice",{ref:"invoice",attrs:{"invoice-info":e.invoiceInfo,orderIds:e.orderIds},on:{closeDialog:e.closeDialog,getInvoice:e.getInvoice,added:e.invoiceAddedHandler}})],1)],2)])])},[],!1,null,"3d4a67aa",null);component.options.__file="accountcheck.vue";t.default=component.exports},412:function(e,t){},430:function(e,t){},431:function(e,t){},509:function(e,t,n){e.exports=n.p+"img/bc40cd7.svg"},510:function(e,t,n){(function(n){var r,o,l;o=[],void 0===(l="function"==typeof(r=function(){"use strict";function t(b,e,t){var n=new XMLHttpRequest;n.open("GET",b),n.responseType="blob",n.onload=function(){a(n.response,e,t)},n.onerror=function(){console.error("could not download file")},n.send()}function r(a){var b=new XMLHttpRequest;return b.open("HEAD",a,!1),b.send(),200<=b.status&&299>=b.status}function o(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(e){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(b,g,e){var i=l.URL||l.webkitURL,n=document.createElement("a");g=g||b.name||"download",n.download=g,n.rel="noopener","string"==typeof b?(n.href=b,n.origin===location.origin?o(n):r(n.href)?t(b,g,e):o(n,n.target="_blank")):(n.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){o(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,g,n){if(g=g||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}(e,n),g);else if(r(e))t(e,g,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){o(i)})}}:function(a,b,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof a)return t(a,b,e);var g="application/octet-stream"===a.type,r=/constructor/i.test(l.HTMLElement)||l.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||g&&r)&&"object"==typeof FileReader){var o=new FileReader;o.onloadend=function(){var a=o.result;a=i?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=a:location=a,n=null},o.readAsDataURL(a)}else{var c=l.URL||l.webkitURL,d=c.createObjectURL(a);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});l.saveAs=a.saveAs=a,e.exports=a})?r.apply(t,o):r)||(e.exports=l)}).call(this,n(38))},513:function(e,t,n){var content=n(814);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(19).default)("6ac4a685",content,!0,{sourceMap:!1})},813:function(e,t,n){"use strict";var r=n(513);n.n(r).a},814:function(e,t,n){(e.exports=n(18)(!1)).push([e.i,'.pageview[data-v-3d4a67aa]{width:100%;height:100%}.powerview-select[data-v-3d4a67aa]{height:40px;font-size:13px;margin-top:20px}.top-span[data-v-3d4a67aa]{float:left;padding-top:10px;margin-right:5px;margin-left:5px;font-size:14px}.power-view-table[data-v-3d4a67aa]{margin-top:20px;border:1px solid #e5e5e5;border-top:0}.power-view-table .operation-style[data-v-3d4a67aa]{display:block;text-align:center;width:100%}.prowerview-paging[data-v-3d4a67aa]{margin-top:20px}.picker-big[data-v-3d4a67aa]{float:left;width:250px;margin-top:5px;margin-right:10px}.picker-samll[data-v-3d4a67aa]{float:left;width:140px;padding-top:5px;margin-right:15px}.grid-content[data-v-3d4a67aa]{font-size:14px}.el-row[data-v-3d4a67aa]{clear:both}.el-row[data-v-3d4a67aa]:last-child{margin-bottom:0}.iv-top[data-v-3d4a67aa]{width:100%;margin:0 auto;display:table;content:" ";border:1px solid #ececec;padding:11px 0;font-size:14px;color:#000}.btn-select[data-v-3d4a67aa]{width:115px;height:40px;float:right;font-size:14px;border-radius:2px;background:#ececec;outline:none;border:none;color:#333}.btn[data-v-3d4a67aa]{height:100px}.btn[data-v-3d4a67aa],.btn-cell[data-v-3d4a67aa]{width:100%;line-height:15px;display:table;vertical-align:middle}.btn-cell[data-v-3d4a67aa]{height:70px}.btn-edit[data-v-3d4a67aa]{width:100%;height:100%;margin:auto;display:table-cell;vertical-align:middle}.btn-a[data-v-3d4a67aa]{display:block;margin-left:30px;background:#0d76e7;width:70px;padding:4px;border-radius:3px;color:#fff}.opening[data-v-3d4a67aa]:hover{cursor:pointer}.mb8[data-v-3d4a67aa]{margin-bottom:8px}.mb0[data-v-3d4a67aa]{margin-bottom:0}.pt3[data-v-3d4a67aa]{padding-top:3px}[data-v-3d4a67aa] .el-table td,[data-v-3d4a67aa] .el-table th{text-align:center}[data-v-3d4a67aa] .el-dialog__body{padding:30px 20px 60px}.export-btn[data-v-3d4a67aa]{float:right;margin-top:10px;margin-right:20px}.nav-btn[data-v-3d4a67aa]:hover{cursor:pointer}.iv-top label[data-v-3d4a67aa]{padding:0 15px;color:#ccc}.nav-bule[data-v-3d4a67aa]{color:#0d76e7}',""])}}]);