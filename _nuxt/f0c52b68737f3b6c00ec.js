(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1327:function(e,t,o){"use strict";o.r(t);var r=o(2),n=(o(4),o(354)),c=o(5),l=(o(6),{data:function(){return{updateExcel:c.a.ParseExcelUrl,fileList:[],fullscreenLoading:!1}},components:{},computed:{getUploadHeader:function(){return Object(n.b)(this)}},mounted:function(){},methods:{handlePreview:function(e){},handleRemove:function(e,t){},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},upSuccess:function(e,t,o){var n=this;e&&("0000"===e.code?e.data.message?this.$confirm(e.data.message+"，确认继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!1,type:"warning"}).then(function(){n.goodsData=e.data.productModels,n.$store.commit(r.MutationTypes.PORTPURCHASEORDER,e.data.productModels),n.$router.push({path:"/order/portqueryorderlist/",query:{id:0,type:"purchase"}})}).catch(function(){n.$refs.upload.clearFiles()}):(this.goodsData=e.data.productModels,this.$store.commit(r.MutationTypes.PORTPURCHASEORDER,e.data.productModels),this.$router.push({path:"/order/portqueryorderlist/",query:{id:0,type:"purchase"}})):this.$confirm(e.message+"？","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){n.$refs.upload.clearFiles()}).catch(function(){n.$refs.upload.clearFiles()}))},beforeAvatarUpload:function(e){return Object(n.c)(this,"upExl",e)}}}),d=(o(852),o(20)),component=Object(d.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pageview"},[e._m(0),e._v(" "),o("div",{staticClass:"contentview_update"},[o("el-upload",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],ref:"upload",staticClass:"upload-demo",staticStyle:{width:"300px"},attrs:{headers:e.getUploadHeader,action:e.updateExcel,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.upSuccess,"with-credentials":!0,multiple:"",limit:1,"on-exceed":e.handleExceed,beforeUpload:e.beforeAvatarUpload,"file-list":e.fileList}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择上传文件")])],1)],1),e._v(" "),e._m(1)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"iv_top"},[t("span",{staticStyle:{"padding-left":"32px","font-weight":"bold"}},[this._v("导入采购商品-上传文件")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"contentview_test"},[t("span",[this._v("批量导入请先下载模板，按模板格式填好再上传。")]),this._v(" "),t("a",{staticStyle:{color:"#b7926e","margin-top":"10px"},attrs:{href:"//resource.toolmall.com/resource/toolmallPc/resources/templet/03%E9%87%87%E8%B4%AD%E5%95%86%E5%93%81%E5%AF%BC%E5%85%A5%E6%A8%A1%E6%9D%BF-%E5%95%86%E5%93%81%E7%BC%96%E7%A0%81%E5%AF%BC%E5%85%A5.xlsx"}},[this._v("上传文件格式范例>")])])}],!1,null,"4d21f44d",null);component.options.__file="portpurchaseorder.vue";t.default=component.exports},354:function(e,t,o){"use strict";o.d(t,"c",function(){return r}),o.d(t,"a",function(){return n}),o.d(t,"b",function(){return c});o(59),o(79);var r=function(e,t,o){if("upImg"==t){var r="image/jpeg"===o.type,n="image/png"===o.type,c=o.size/1024/1024<20;return r||n||e.$message.error("上传图片只能是 JPG/PNG 格式!"),c||e.$message.error("上传图片大小不能超过 20MB!"),(r||n)&&c}if("upExl"==t){var l=o.size/1024/1024<20,d=!1,f=o.name.split(".");return"xls"===f[1]||"xlsx"===f[1]?d=!0:(e.$message.error("上传文件只能是 excel 格式!"),d=!1),l||e.$message.error("上传文件大小不能超过 20MB!"),d&&l}if("upAll"==t){var h=o.size/1024/1024<20;return h||e.$message.error("上传文件大小不能超过 20MB!"),h}},n=function(e,t,o,r){return e.$message.error("营业执照上传失败，请重新上传！")},c=function(){var e={};return window.localStorage.getItem("ACCESS_TOKEN")&&""!=window.localStorage.getItem("ACCESS_TOKEN")&&(e={Authorization:"Bearer "+window.localStorage.getItem("ACCESS_TOKEN")}),e}},529:function(e,t,o){var content=o(853);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(19).default)("132d8b27",content,!0,{sourceMap:!1})},852:function(e,t,o){"use strict";var r=o(529);o.n(r).a},853:function(e,t,o){(e.exports=o(18)(!1)).push([e.i,'.pageview[data-v-4d21f44d]{width:100%;height:100%;font-size:14px}.pageview>h1[data-v-4d21f44d]{color:#000;font-size:16px}.contentview_update[data-v-4d21f44d]{margin:30px 0}.contentview_test[data-v-4d21f44d]{display:grid}.iv_top[data-v-4d21f44d]{width:100%;margin:0 auto;display:table;content:" ";border:1px solid #ececec;padding:11px 0;font-size:14px;color:#000}',""])}}]);