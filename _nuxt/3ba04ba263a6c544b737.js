(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{1328:function(t,e,n){"use strict";n.r(e);n(36),n(82),n(196),n(29);var r=n(3),l=n(5),c=n(6),o=n(4),d=n(78),v={data:function(){return{orderId:"",companyId:"",createTime:"",beginDate:"",endDate:"",purchaseId:"",state:"",userId:"",indexPage:1,pageSize:10,pageCount:0,stateList:[],tableData:[],companyList:[]}},components:{},computed:{},mounted:function(){this.getCompanyList(),this.PurchaseOrderState(),this.selectAllPurchaseOrder()},methods:{selectAllPurchaseOrder:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={orderId:this.orderId,beginDate:this.beginDate,endDate:this.endDate,orderStatus:this.state,userName:this.userId,companyId:this.companyId,pageNum:this.indexPage,pageSize:this.pageSize},t.next=3,Object(c.a)(this,l.a.AllPurchaseUrl,e);case 3:if((n=t.sent)&&(this.pageCount=n.data.pageCount,this.tableData=n.data.list,this.tableData))for(r=0;r<this.tableData.length;r++)this.tableData[r].num=r+1,this.tableData[r].gmtCreate=Object(o.k)(this.tableData[r].gmtCreate),this.tableData[r].payTypeName=Object(o.f)(this.tableData[r].payType),this.tableData[r].stateName=Object(o.g)(this.tableData[r].orderStatus),this.tableData[r].totalPrice=this.tableData[r].totalPrice?this.tableData[r].totalPrice.toFixed(2):this.tableData[r].price.toFixed(2);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),PurchaseOrderState:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.d)(this);case 2:this.stateList=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getCompanyList:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,defs,o,map;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={companyId:e},t.next=3,Object(c.a)(this,l.a.getCompanyListUrl,n);case 3:if((r=t.sent).data)for((defs=new Map).key="",defs.value="全部",this.companyList.push(defs),o=0;o<r.data.length;o++)(map=new Map).key=r.data[o].companyId,map.value=r.data[o].companyName,this.companyList.push(map);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleClick:function(t){this.$router.push({path:"/order/portqueryorderlist/",query:{id:t,type:"other"}})},dateChange:function(){this.createTime?(this.beginDate=this.createTime[0],this.endDate=this.createTime[1]):(this.beginDate="",this.endDate="")},handleSizeChange:function(t){},handleCurrentChange:function(t){this.indexPage=t,this.selectAllPurchaseOrder()}}},h=(n(850),n(20)),component=Object(h.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageview"},[t._m(0),t._v(" "),n("div",{staticClass:"screenview"},[n("div",{staticClass:"screenview_id"},[n("span",[t._v("采购单号:")]),t._v(" "),n("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入采购单号"},model:{value:t.orderId,callback:function(e){t.orderId=e},expression:"orderId"}})],1),t._v(" "),n("div",{staticClass:"selectview_man"},[n("span",[t._v("采购人员:")]),t._v(" "),n("el-input",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"请输入采购员名称"},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}})],1),t._v(" "),n("div",{staticClass:"screenview_date"},[n("span",[t._v("采购时间:")]),t._v(" "),n("el-date-picker",{staticStyle:{width:"450px","margin-top":"5px","margin-right":"10px"},attrs:{editable:!1,size:"small",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:t.dateChange},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}})],1)]),t._v(" "),n("div",{staticClass:"selectview"},[n("div",{staticClass:"selectview_left"},[n("div",{staticClass:"selectview_state"},[n("span",[t._v("订单状态:")]),t._v(" "),n("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请选择"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.stateList,function(t){return n("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})}),1)],1),t._v(" "),n("div",{staticClass:"screenview_company"},[n("span",[t._v("分公司:")]),t._v(" "),n("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请选择"},model:{value:t.companyId,callback:function(e){t.companyId=e},expression:"companyId"}},t._l(t.companyList,function(t){return n("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})}),1)],1)]),t._v(" "),n("div",{staticClass:"selectview_right"},[n("el-button",{staticStyle:{width:"200px","margin-right":"60px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.selectAllPurchaseOrder()}}},[t._v("查询")])],1)]),t._v(" "),n("div",{staticClass:"tableview"},[n("el-row",{staticClass:"buylist"},[n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content "},[t._v("序号")])]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"grid-content "},[t._v("采购单号")])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content "},[t._v("商品个数")])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content "},[t._v("含税总价(元)")])]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"grid-content "},[t._v("采购人员")])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content "},[t._v("状态")])]),t._v(" "),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content "},[t._v("分公司名称")])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content "},[t._v("操作")])])],1),t._v(" "),t._l(t.tableData,function(e,r){return n("div",{key:r,staticClass:"otherview_table",style:((r+1)%2==0?"background-color: #FBFBFB;":"")+(r+1===t.tableData.length?"border-bottom: 1px solid #f1f1f1;":"")},[n("el-row",{staticClass:"buytime"},[n("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:6}},[n("div",{staticClass:"grid-content "},[t._v("采购时间：\n              "),n("span",{staticClass:"createtime",attrs:{prop:"gmtCreate"}},[t._v(t._s(e.gmtCreate))])])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("div",{staticClass:"grid-content "},[t._v(" \n            ")])])],1),t._v(" "),n("el-row",{staticClass:"newslist"},[n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content num"},[t._v(t._s(e.num))])]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"grid-content orderId"},[t._v(t._s(e.orderId))])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content count"},[t._v(t._s(e.count))])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content totalPrice"},[t._v(t._s(e.totalPrice))])]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"grid-content gv_line_sty"},[t._v(t._s(e.username?e.username:"平台代下单"))])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"grid-content"},[t._v(t._s(e.stateName))])]),t._v(" "),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[t._v(t._s(e.companyName))])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("div",[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleClick(e.orderId)}}},[t._v("导入")])],1)])],1)],1)})],2),t._v(" "),n("div",{staticClass:"prowerview_paging"},[n("el-pagination",{attrs:{"current-page":t.indexPage,"page-size":t.pageSize,layout:"prev, pager, next,total, jumper",total:t.pageCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.indexPage=e},"update:current-page":function(e){t.indexPage=e}}})],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"iv_top"},[e("span",{staticStyle:{"padding-left":"32px","font-weight":"bold"}},[this._v("我的订单-引用其他公司订单")])])}],!1,null,"549a0c41",null);component.options.__file="othercompanyorder.vue";e.default=component.exports},528:function(t,e,n){var content=n(851);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("bdbf1932",content,!0,{sourceMap:!1})},850:function(t,e,n){"use strict";var r=n(528);n.n(r).a},851:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,'.screenview[data-v-549a0c41]{margin-top:15px}.screenview_company[data-v-549a0c41]{display:inline;margin-left:15px;color:#333}.screenview_date[data-v-549a0c41]{margin:0 15px}.screenview_date[data-v-549a0c41],.screenview_id[data-v-549a0c41]{display:inline;color:#333}.selectview[data-v-549a0c41]{margin-top:15px;margin-bottom:15px;padding-bottom:30px}.selectview_left[data-v-549a0c41]{float:left}.selectview_man[data-v-549a0c41],.selectview_state[data-v-549a0c41]{display:inline;color:#333}.selectview_man[data-v-549a0c41]{margin-left:15px}.selectview_right[data-v-549a0c41]{float:right}.prowerview_paging[data-v-549a0c41],.tableview[data-v-549a0c41]{margin-top:20px}.iv_top[data-v-549a0c41]{width:100%;margin:0 auto;display:table;content:" ";border:1px solid #ececec;padding:11px 0;font-size:14px;color:#000}.el-input[data-v-549a0c41] .el-input__inner{border-radius:0}.buylist[data-v-549a0c41]{color:#858585;background:#f5f5f5;height:40px;line-height:40px;margin-top:20px;text-align:center;margin-bottom:14px}.newslist[data-v-549a0c41]{text-align:center;border-left:1px solid #f1f1f1;border-right:1px solid #f1f1f1;border-top:1px solid #f1f1f1;height:60px;line-height:60px}.buytime[data-v-549a0c41]{color:#858585;background:#f5f5f5;height:40px;line-height:40px;text-align:center}.otherview_table[data-v-549a0c41]{margin-top:15px;border-bottom:1px solid #f1f1f1}',""])}}]);